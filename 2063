// Look at the values of m1 and m2

#include <bits/stdc++.h>

using namespace std;

#define ll long long





int main() {

  int n;
  cin>>n;


for (int i = 2; i <= n + 1; i++) {
  // string s;
  // cin>>s;
  for (int j = 1; j < i ; j++) {
    for (int k = j+1 ; k <= i; k++)
      cout<<"? "<<j<<" "<<k<<endl;
  } 

    int m1=(rand()%(i-1))+1,m2;
    m2=m1+1;
   // here m1 (i+1)/2 and m2=(i+1)/2+1 also works ..... ideally it should not
  cout<<"! "<<m1<<" "<<m2<<endl;
}


  return 0;
}
